# MOD_DEFLATE COMPRESSION
SetOutputFilter DEFLATE
AddOutputFilterByType DEFLATE text/html text/css text/plain text/xml application/x-javascript application/x-httpd-php
#Pour les navigateurs incompatibles
BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4\.0[678] no-gzip
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
BrowserMatch \bMSI[E] !no-gzip !gzip-only-text/html
#ne pas mettre en cache si ces fichiers le sont déjà
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip
#les proxies doivent donner le bon contenu
Header append Vary User-Agent env=!dont-vary


<IfModule mod_expires.c>

ExpiresActive On

# Images
ExpiresByType image/jpeg « access plus 1 year »
ExpiresByType image/gif « access plus 1 year »
ExpiresByType image/png « access plus 1 year »
ExpiresByType image/webp « access plus 1 year »
ExpiresByType image/svg+xml « access plus 1 year »
ExpiresByType image/x-icon « access plus 1 year »

# Video
ExpiresByType video/mp4 « access plus 1 year »
ExpiresByType video/mpeg « access plus 1 year »

# CSS, JavaScript
ExpiresByType text/css « access plus 1 month »
ExpiresByType text/javascript « access plus 1 month »
ExpiresByType application/javascript « access plus 1 month »

# Others
ExpiresByType application/pdf « access plus 1 year »
ExpiresByType application/x-shockwave-flash « access plus 1 year »

</IfModule>


# KILL THEM ETAGS
Header unset ETag
FileETag none

# protect wpconfig.php
<files wp-config.php>
order allow,deny
deny from all
</files>

# protect the htaccess file
<files .htaccess>
order allow,deny
deny from all
</files>

# protection de la lecture des répertoires
Options -Indexes